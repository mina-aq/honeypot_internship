(()=>{var cs=Object.create;var or=Object.defineProperty;var ds=Object.getOwnPropertyDescriptor;var fs=Object.getOwnPropertyNames;var ps=Object.getPrototypeOf,ms=Object.prototype.hasOwnProperty;var gs=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var vs=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of fs(t))!ms.call(e,r)&&r!==n&&or(e,r,{get:()=>t[r],enumerable:!(i=ds(t,r))||i.enumerable});return e};var bs=(e,t,n)=>(n=e!=null?cs(ps(e)):{},vs(t||!e||!e.__esModule?or(n,"default",{value:e,enumerable:!0}):n,e));var mr=gs((pt,dn)=>{(function(e,t){"use strict";var n="1.0.37",i="",r="?",o="function",s="undefined",a="object",u="string",f="major",l="model",c="name",d="type",p="vendor",m="version",h="architecture",b="console",g="mobile",v="tablet",O="smarttv",R="wearable",w="embedded",E=500,x="Amazon",P="Apple",$="ASUS",$i="BlackBerry",Oe="Browser",Pt="Chrome",ss="Edge",Ut="Firefox",Lt="Google",Wi="Huawei",Dn="LG",Fn="Microsoft",Xi="Motorola",Dt="Opera",Ft="Samsung",Ji="Sharp",jt="Sony",jn="Xiaomi",Bn="Zebra",Qi="Facebook",Zi="Chromium OS",er="Mac OS",as=function(y,A){var T={};for(var C in y)A[C]&&A[C].length%2===0?T[C]=A[C].concat(y[C]):T[C]=y[C];return T},Bt=function(y){for(var A={},T=0;T<y.length;T++)A[y[T].toUpperCase()]=y[T];return A},tr=function(y,A){return typeof y===u?ct(A).indexOf(ct(y))!==-1:!1},ct=function(y){return y.toLowerCase()},ls=function(y){return typeof y===u?y.replace(/[^\d\.]/g,i).split(".")[0]:t},Vn=function(y,A){if(typeof y===u)return y=y.replace(/^\s\s*/,i),typeof A===s?y:y.substring(0,E)},dt=function(y,A){for(var T=0,C,be,le,_,S,ue;T<A.length&&!S;){var Gn=A[T],rr=A[T+1];for(C=be=0;C<Gn.length&&!S&&Gn[C];)if(S=Gn[C++].exec(y),S)for(le=0;le<rr.length;le++)ue=S[++be],_=rr[le],typeof _===a&&_.length>0?_.length===2?typeof _[1]==o?this[_[0]]=_[1].call(this,ue):this[_[0]]=_[1]:_.length===3?typeof _[1]===o&&!(_[1].exec&&_[1].test)?this[_[0]]=ue?_[1].call(this,ue,_[2]):t:this[_[0]]=ue?ue.replace(_[1],_[2]):t:_.length===4&&(this[_[0]]=ue?_[3].call(this,ue.replace(_[1],_[2])):t):this[_]=ue||t;T+=2}},zn=function(y,A){for(var T in A)if(typeof A[T]===a&&A[T].length>0){for(var C=0;C<A[T].length;C++)if(tr(A[T][C],y))return T===r?t:T}else if(tr(A[T],y))return T===r?t:T;return y},us={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},nr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ir={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,m],[/opios[\/ ]+([\w\.]+)/i],[m,[c,Dt+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[c,Dt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[c,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[c,"UC"+Oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[c,"Smart Lenovo "+Oe]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+Oe],m],[/\bfocus\/([\w\.]+)/i],[m,[c,Ut+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[c,Dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[c,Dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[c,"MIUI "+Oe]],[/fxios\/([-\w\.]+)/i],[m,[c,Ut]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+Oe]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+Oe],m],[/samsungbrowser\/([\w\.]+)/i],[m,[c,Ft+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[c,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[c,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,Qi],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[c,Pt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,Pt+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[c,"Android "+Oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[m,zn,us]],[/(webkit|khtml)\/([\w\.]+)/i],[c,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[c,Ut+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[c,m],[/(cobalt)\/([\w\.]+)/i],[c,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,ct]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,i,ct]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,ct]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,Ft],[d,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,Ft],[d,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[p,P],[d,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,P],[d,v]],[/(macintosh);/i],[l,[p,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,Ji],[d,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,Wi],[d,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[p,Wi],[d,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,jn],[d,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,jn],[d,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[d,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[d,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[d,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,Xi],[d,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,Xi],[d,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,Dn],[d,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,Dn],[d,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[d,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[d,g]],[/(pixel c)\b/i],[l,[p,Lt],[d,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,Lt],[d,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,jt],[d,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,jt],[d,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[d,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,x],[d,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,x],[d,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[d,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,$i],[d,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,$],[d,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,$],[d,g]],[/(nexus 9)/i],[l,[p,"HTC"],[d,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[d,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[d,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[d,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[p,"Ulefone"],[d,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[d,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[d,v]],[/(surface duo)/i],[l,[p,Fn],[d,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[d,g]],[/(u304aa)/i],[l,[p,"AT&T"],[d,g]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[d,g]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[d,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[d,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[d,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[d,v]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[d,v]],[/\b(k88) b/i],[l,[p,"ZTE"],[d,v]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[d,g]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[d,g]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[d,v]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[d,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[d,v]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[d,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[d,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[d,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[d,g]],[/\b(ph-1) /i],[l,[p,"Essential"],[d,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[d,v]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[d,v]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[d,v]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[d,v]],[/(sprint) (\w+)/i],[p,l,[d,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,Fn],[d,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,Bn],[d,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,Bn],[d,g]],[/smart-tv.+(samsung)/i],[p,[d,O]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,Ft],[d,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Dn],[d,O]],[/(apple) ?tv/i],[p,[l,P+" TV"],[d,O]],[/crkey/i],[[l,Pt+"cast"],[p,Lt],[d,O]],[/droid.+aft(\w+)( bui|\))/i],[l,[p,x],[d,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[p,Ji],[d,O]],[/(bravia[\w ]+)( bui|\))/i],[l,[p,jt],[d,O]],[/(mitv-\w{5}) bui/i],[l,[p,jn],[d,O]],[/Hbbtv.*(technisat) (.*);/i],[p,l,[d,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Vn],[l,Vn],[d,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[d,b]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[d,b]],[/(playstation [345portablevi]+)/i],[l,[p,jt],[d,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,Fn],[d,b]],[/((pebble))app/i],[p,l,[d,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[p,P],[d,R]],[/droid.+; (glass) \d/i],[l,[p,Lt],[d,R]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,Bn],[d,R]],[/(quest( 2| pro)?)/i],[l,[p,Qi],[d,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,w]],[/(aeobc)\b/i],[l,[p,x],[d,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[d,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[c,ss+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[c,[m,zn,nr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,zn,nr],[c,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,er],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,m],[/\(bb(10);/i],[m,[c,$i]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[c,Ut+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[c,Pt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,Zi],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,m],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,m]]},K=function(y,A){if(typeof y===a&&(A=y,y=t),!(this instanceof K))return new K(y,A).getResult();var T=typeof e!==s&&e.navigator?e.navigator:t,C=y||(T&&T.userAgent?T.userAgent:i),be=T&&T.userAgentData?T.userAgentData:t,le=A?as(ir,A):ir,_=T&&T.userAgent==C;return this.getBrowser=function(){var S={};return S[c]=t,S[m]=t,dt.call(S,C,le.browser),S[f]=ls(S[m]),_&&T&&T.brave&&typeof T.brave.isBrave==o&&(S[c]="Brave"),S},this.getCPU=function(){var S={};return S[h]=t,dt.call(S,C,le.cpu),S},this.getDevice=function(){var S={};return S[p]=t,S[l]=t,S[d]=t,dt.call(S,C,le.device),_&&!S[d]&&be&&be.mobile&&(S[d]=g),_&&S[l]=="Macintosh"&&T&&typeof T.standalone!==s&&T.maxTouchPoints&&T.maxTouchPoints>2&&(S[l]="iPad",S[d]=v),S},this.getEngine=function(){var S={};return S[c]=t,S[m]=t,dt.call(S,C,le.engine),S},this.getOS=function(){var S={};return S[c]=t,S[m]=t,dt.call(S,C,le.os),_&&!S[c]&&be&&be.platform!="Unknown"&&(S[c]=be.platform.replace(/chrome os/i,Zi).replace(/macos/i,er)),S},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return C},this.setUA=function(S){return C=typeof S===u&&S.length>E?Vn(S,E):S,this},this.setUA(C),this};K.VERSION=n,K.BROWSER=Bt([c,m,f]),K.CPU=Bt([h]),K.DEVICE=Bt([l,p,d,b,g,O,v,R,w]),K.ENGINE=K.OS=Bt([c,m]),typeof pt!==s?(typeof dn!==s&&dn.exports&&(pt=dn.exports=K),pt.UAParser=K):typeof define===o&&define.amd?define(function(){return K}):typeof e!==s&&(e.UAParser=K);var je=typeof e!==s&&(e.jQuery||e.Zepto);if(je&&!je.ua){var Vt=new K;je.ua=Vt.getResult(),je.ua.get=function(){return Vt.getUA()},je.ua.set=function(y){Vt.setUA(y);var A=Vt.getResult();for(var T in A)je.ua[T]=A[T]}}})(typeof window=="object"?window:pt)});function W(e,t){return typeof e===t}function Be(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function zt(e,t){try{return e instanceof t}catch{return!1}}var te=e=>W(e,"null"),ne=e=>W(e,"string"),Gt=e=>W(e,"number")&&!isNaN(e)||W(e,"bigint");var Ht=e=>W(e,"boolean");var U=e=>!te(e)&&W(e,"object"),ie=e=>W(e,"function"),ce=e=>Be(e,"Array");var qt=e=>!U(e)&&!ie(e),Hn=typeof Event<"u",Kt=e=>Hn&&zt(e,Event),qn=typeof Error<"u",Ae=e=>qn&&zt(e,Error),Yt=e=>Be(e,"ErrorEvent"),$t=e=>Be(e,"DOMError"),Wt=e=>Be(e,"DOMException");function L(e){return e==null?!0:ce(e)||ne(e)?e.length===0:U(e)?Object.keys(e).length===0:!1}function V(e,t){if(e===t)return!0;if(W(e,"number")&&isNaN(e))return W(t,"number")&&isNaN(t);let n=ce(e),i=ce(t);if(n!==i)return!1;if(n&&i){let s=e.length;if(s!==t.length)return!1;for(let a=s;a--!==0;)if(!V(e[a],t[a]))return!1;return!0}let r=U(e),o=U(t);if(r!==o)return!1;if(e&&t&&r&&o){let s=Object.keys(e),a=Object.keys(t),u=s.length,f=a.length;if(u!==f)return!1;for(let l of s)if(!a.includes(l))return!1;for(let l of s)if(!V(e[l],t[l]))return!1;return!0}return!1}function Y(){return Date.now()}function de(){return new Date().toISOString()}function he(e){return new Date(e).toISOString()}var j;(function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"})(j||(j={}));var Xt=j.LOG,Jt=[j.TRACE,j.DEBUG,j.INFO,j.LOG,j.WARN,j.ERROR];function G(){}function Qt(e){let{size:t,concurrency:n}=e,i=[],r=0,o=()=>{if(r<n&&i.length){let{producer:a,resolve:u,reject:f}=i.shift();r++,a().then(l=>{r--,o(),u(l)},l=>{r--,o(),f(l)})}};return{add:a=>{if(i.length+r>=t)throw new Error("Task buffer full");return new Promise((u,f)=>{i.push({producer:a,resolve:u,reject:f}),o()})}}}var sr="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function z(e=10){return Array.from(Array(e)).map(()=>sr[Math.floor(Math.random()*sr.length)]).join("")}var re=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:void 0;function ar(e){return re===null||re===void 0?void 0:re[`__faroBundleId_${e}`]}function Kn(){let e=new WeakSet;return function(t,n){if(U(n)&&n!==null){if(e.has(n))return null;e.add(n)}return n}}function oe(e={}){return JSON.stringify(e??{},Kn())}function X(e={}){let t={};for(let[n,i]of Object.entries(e))t[n]=U(i)&&i!==null?oe(i):String(i);return t}var B=class e{constructor(){this.subscribers=[]}subscribe(t){return this.subscribers.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){this.subscribers=this.subscribers.filter(n=>n!==t)}notify(t){this.subscribers.forEach(n=>n(t))}first(){let t=new e,n=o=>{t.notify(o),i.unsubscribe()},i=this.subscribe(n),r=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,r,n)}takeWhile(t){let n=new e,i=o=>{t(o)?n.notify(o):n.unsubscribe(i)};this.subscribe(i);let r=n.unsubscribe.bind(n);return this.withUnsubscribeOverride(n,r,i)}filter(t){let n=new e,i=o=>{t(o)&&n.notify(o)};this.subscribe(i);let r=n.unsubscribe.bind(n);return this.withUnsubscribeOverride(n,r,i)}merge(...t){let n=new e,i=[];t.forEach(o=>{let s=o.subscribe(a=>{n.notify(a)});i.push(s)});let r=n.unsubscribeAll.bind(n);return n.unsubscribe=()=>{i.forEach(o=>o.unsubscribe()),r()},n}withUnsubscribeOverride(t,n,i){return t.unsubscribe=r=>{n(r),this.unsubscribe(i)},t}unsubscribeAll(){this.subscribers=[]}};var Zt=class{constructor(t,n){var i,r;this.signalBuffer=[],this.itemLimit=(i=n?.itemLimit)!==null&&i!==void 0?i:50,this.sendTimeout=(r=n?.sendTimeout)!==null&&r!==void 0?r:250,this.paused=n?.paused||!1,this.sendFn=t,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flush()})}addItem(t){this.paused||(this.signalBuffer.push(t),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(t){let n=new Map;return t.forEach(i=>{let r=JSON.stringify(i.meta),o=n.get(r);o===void 0?o=[i]:o=[...o,i],n.set(r,o)}),Array.from(n.values())}flush(){if(this.paused||this.signalBuffer.length===0)return;this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[]}};var N;(function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"})(N||(N={}));var en={[N.EXCEPTION]:"exceptions",[N.LOG]:"logs",[N.MEASUREMENT]:"measurements",[N.TRACE]:"traces",[N.EVENT]:"events"};function Yn(e,t,n,i){var r;t.debug("Initializing transports");let o=[],s=n.paused,a=[],u=(...w)=>{t.debug("Adding transports"),w.forEach(E=>{if(t.debug(`Adding "${E.name}" transport`),o.some(P=>P===E)){t.warn(`Transport ${E.name} is already added`);return}E.unpatchedConsole=e,E.internalLogger=t,E.config=n,E.metas=i,o.push(E)})},f=(...w)=>{t.debug(`Adding beforeSendHooks
`,a),w.forEach(E=>{E&&a.push(E)})},l=w=>{let E=w;for(let x of a){let P=E.map(x).filter(Boolean);if(P.length===0)return[];E=As(P,n)}return E},c=w=>{let E=l(w);if(E.length!==0)for(let x of o)t.debug(`Transporting item using ${x.name}
`,E),x.isBatched()&&x.send(E)},d=w=>{var E,x;if(!((E=n.batching)===null||E===void 0)&&E.enabled&&o.every($=>$.isBatched()))return;let[P]=l([w]);if(P!==void 0)for(let $ of o)t.debug(`Transporting item using ${$.name}
`,P),$.isBatched()?!((x=n.batching)===null||x===void 0)&&x.enabled||$.send([P]):$.send(P)},p;return!((r=n.batching)===null||r===void 0)&&r.enabled&&(p=new Zt(c,{sendTimeout:n.batching.sendTimeout,itemLimit:n.batching.itemLimit,paused:s})),{add:u,addBeforeSendHooks:f,getBeforeSendHooks:()=>[...a],execute:w=>{var E;s||(!((E=n.batching)===null||E===void 0)&&E.enabled&&p?.addItem(w),d(w))},isPaused:()=>s,pause:()=>{t.debug("Pausing transports"),p?.pause(),s=!0},remove:(...w)=>{t.debug("Removing transports"),w.forEach(E=>{t.debug(`Removing "${E.name}" transport`);let x=o.indexOf(E);if(x===-1){t.warn(`Transport "${E.name}" is not added`);return}o.splice(x,1)})},removeBeforeSendHooks:(...w)=>{a.filter(E=>!w.includes(E))},get transports(){return[...o]},unpause:()=>{t.debug("Unpausing transports"),p?.start(),s=!1}}}function As(e,t){if(t.preserveOriginalError)for(let n of e)n.type===N.EXCEPTION&&delete n.payload.originalError;return e}var se;(function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"})(se||(se={}));var Ns="Faro",Ne={debug:G,error:G,info:G,prefix:Ns,warn:G},Ve=se.ERROR;var fe=Object.assign({},console);var tn=fe;function $n(e){var t;return tn=(t=e.unpatchedConsole)!==null&&t!==void 0?t:tn,tn}function ze(e=fe,t=Ve){let n=Ne;return t>se.OFF&&(n.error=t>=se.ERROR?function(...i){e.error(`${n.prefix}
`,...i)}:G,n.warn=t>=se.WARN?function(...i){e.warn(`${n.prefix}
`,...i)}:G,n.info=t>=se.INFO?function(...i){e.info(`${n.prefix}
`,...i)}:G,n.debug=t>=se.VERBOSE?function(...i){e.debug(`${n.prefix}
`,...i)}:G),n}var Wn=Ne;function Xn(e,t){return Wn=ze(e,t.internalLoggerLevel),Wn}var Re=class{constructor(){this.unpatchedConsole=fe,this.internalLogger=Ne,this.config={},this.metas={}}logDebug(...t){this.internalLogger.debug(`${this.name}
`,...t)}logInfo(...t){this.internalLogger.info(`${this.name}
`,...t)}logWarn(...t){this.internalLogger.warn(`${this.name}
`,...t)}logError(...t){this.internalLogger.error(`${this.name}
`,...t)}};var Ge=class extends Re{isBatched(){return!1}getIgnoreUrls(){return[]}};function Jn(e){e.transports.add(...e.config.transports),e.transports.addBeforeSendHooks(e.config.beforeSend)}function Rs(e,t){var n,i;if(t===void 0)return e;if(e===void 0)return{resourceSpans:t};let r=(n=e.resourceSpans)===null||n===void 0?void 0:n[0];if(r===void 0)return e;let o=r?.scopeSpans||[],s=((i=t?.[0])===null||i===void 0?void 0:i.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},r),{scopeSpans:[...o,...s]})]})}function nn(e){let t={meta:{}};return e[0]!==void 0&&(t.meta=e[0].meta),e.forEach(n=>{switch(n.type){case N.LOG:case N.EVENT:case N.EXCEPTION:case N.MEASUREMENT:let i=en[n.type],r=t[i];t=Object.assign(Object.assign({},t),{[i]:r===void 0?[n.payload]:[...r,n.payload]});break;case N.TRACE:t=Object.assign(Object.assign({},t),{traces:Rs(t.traces,n.payload.resourceSpans)});break}}),t}var H="user-action-start",He="user-action-end",qe="user-action-cancel",Ke="user-action-halt";function Qn({internalLogger:e,config:t,metas:n,transports:i,tracesApi:r,actionBuffer:o,getMessage:s}){let a=null;return{pushEvent:(f,l,c,{skipDedupe:d,spanContext:p,timestampOverwriteMs:m,customPayloadTransformer:h=b=>b}={})=>{try{let b=X(l),g={meta:n.value,payload:h({name:f,domain:c??t.eventDomain,attributes:L(b)?void 0:b,timestamp:m?he(m):de(),trace:p?{trace_id:p.traceId,span_id:p.spanId}:r.getTraceContext()}),type:N.EVENT},v={name:g.payload.name,attributes:g.payload.attributes,domain:g.payload.domain};if(!d&&t.dedupe&&!te(a)&&V(v,a)){e.debug(`Skipping event push because it is the same as the last one
`,g.payload);return}a=v,e.debug(`Pushing event
`,g);let O=s();O&&O.type===H?o.addItem(g):i.execute(g)}catch(b){e.error("Error pushing event",b)}}}}var Ce="Error",Ye=e=>e.map(t=>U(t)?oe(t):String(t)).join(" ");function lr(e,t){return e.some(n=>ne(n)?t.includes(n):!!t.match(n))}var Ee;function Zn({internalLogger:e,config:t,metas:n,transports:i,tracesApi:r,actionBuffer:o,getMessage:s}){var a;e.debug("Initializing exceptions API");let u=null;Ee=(a=t.parseStacktrace)!==null&&a!==void 0?a:Ee;let f=m=>{e.debug("Changing stacktrace parser"),Ee=m??Ee},l=()=>Ee,{ignoreErrors:c=[],preserveOriginalError:d}=t,p=(m,{skipDedupe:h,stackFrames:b,type:g,context:v,spanContext:O,timestampOverwriteMs:R,originalError:w}={})=>{if(!ks(c,w??m))try{let E=X(Object.assign(Object.assign({},Cs(w??m)),v??{})),x={meta:n.value,payload:Object.assign(Object.assign({type:g||m.name||Ce,value:m.message,timestamp:R?he(R):de(),trace:O?{trace_id:O.traceId,span_id:O.spanId}:r.getTraceContext()},L(E)?{}:{context:E}),d?{originalError:w}:{}),type:N.EXCEPTION};b=b??(m.stack?Ee?.(m).frames:void 0),b?.length&&(x.payload.stacktrace={frames:b});let P={type:x.payload.type,value:x.payload.value,stackTrace:x.payload.stacktrace,context:x.payload.context};if(!h&&t.dedupe&&!te(u)&&V(P,u)){e.debug(`Skipping error push because it is the same as the last one
`,x.payload);return}u=P,e.debug(`Pushing exception
`,x);let $=s();$&&$.type===H?o.addItem(x):i.execute(x)}catch(E){e.error("Error pushing event",E)}};return f(t.parseStacktrace),{changeStacktraceParser:f,getStacktraceParser:l,pushError:p}}function Cs(e){let t=e.cause;return Ae(t)?t=e.cause.toString():t!==null&&(U(e.cause)||ce(e.cause))?t=oe(e.cause):t!=null&&(t=e.cause.toString()),t==null?{}:{cause:t}}function ks(e,t){let{message:n,name:i,stack:r}=t;return lr(e,n+" "+i+" "+r)}var pe=e=>e.map(t=>{try{return String(t)}catch{return""}}).join(" ");function ei({internalLogger:e,config:t,metas:n,transports:i,tracesApi:r,actionBuffer:o,getMessage:s}){var a;e.debug("Initializing logs API");let u=null,f=(a=t.logArgsSerializer)!==null&&a!==void 0?a:pe;return{pushLog:(c,{context:d,level:p,skipDedupe:m,spanContext:h,timestampOverwriteMs:b}={})=>{try{let g=X(d),v={type:N.LOG,payload:{message:f(c),level:p??Xt,context:L(g)?void 0:g,timestamp:b?he(b):de(),trace:h?{trace_id:h.traceId,span_id:h.spanId}:r.getTraceContext()},meta:n.value},O={message:v.payload.message,level:v.payload.level,context:v.payload.context};if(!m&&t.dedupe&&!te(u)&&V(O,u)){e.debug(`Skipping log push because it is the same as the last one
`,v.payload);return}u=O,e.debug(`Pushing log
`,v);let R=s();R&&R.type===H?o.addItem(v):i.execute(v)}catch(g){e.error(`Error pushing log
`,g)}}}}function ti({internalLogger:e,config:t,metas:n,transports:i,tracesApi:r,actionBuffer:o,getMessage:s}){e.debug("Initializing measurements API");let a=null;return{pushMeasurement:(f,{skipDedupe:l,context:c,spanContext:d,timestampOverwriteMs:p}={})=>{try{let m=X(c),h={type:N.MEASUREMENT,payload:Object.assign(Object.assign({},f),{trace:d?{trace_id:d.traceId,span_id:d.spanId}:r.getTraceContext(),timestamp:p?he(p):de(),context:L(m)?void 0:m}),meta:n.value},b={type:h.payload.type,values:h.payload.values,context:h.payload.context};if(!l&&t.dedupe&&!te(a)&&V(b,a)){e.debug(`Skipping measurement push because it is the same as the last one
`,h.payload);return}a=b,e.debug(`Pushing measurement
`,h);let g=s();g&&g.type===H?o.addItem(h):i.execute(h)}catch(m){e.error(`Error pushing measurement
`,m)}}}}function ni({internalLogger:e,metas:t}){e.debug("Initializing meta API");let n,i,r,o,s=p=>{i&&t.remove(i),i={user:p},t.add(i)},a=(p,m)=>{var h;let b=m?.overrides,g=b?{overrides:Object.assign(Object.assign({},(h=n?.session)===null||h===void 0?void 0:h.overrides),b)}:{};n&&t.remove(n),n={session:Object.assign(Object.assign({},L(p)?void 0:p),g)},t.add(n)},u=()=>t.value.session,f=(p,m)=>{var h;if(m?.overrides&&a(u(),{overrides:m.overrides}),((h=r?.view)===null||h===void 0?void 0:h.name)===p?.name)return;let b=r;r={view:p},t.add(r),b&&t.remove(b)},l=()=>t.value.view,c=p=>{var m;let h=ne(p)?Object.assign(Object.assign({},(m=o?.page)!==null&&m!==void 0?m:d()),{id:p}):p;o&&t.remove(o),o={page:h},t.add(o)},d=()=>t.value.page;return{setUser:s,resetUser:s,setSession:a,resetSession:a,getSession:u,setView:f,getView:l,setPage:c,getPage:d}}function ii(e,t,n,i,r){t.debug("Initializing traces API");let o;return{getOTEL:()=>o,getTraceContext:()=>{let c=o?.trace.getSpanContext(o.context.active());return c?{trace_id:c.traceId,span_id:c.spanId}:void 0},initOTEL:(c,d)=>{t.debug("Initializing OpenTelemetry"),o={trace:c,context:d}},isOTELInitialized:()=>!!o,pushTraces:c=>{try{let d={type:N.TRACE,payload:c,meta:i.value};t.debug(`Pushing trace
`,d),r.execute(d)}catch(d){t.error(`Error pushing trace
`,d)}}}}var rn=class{constructor(){this.buffer=[]}addItem(t){this.buffer.push(t)}flushBuffer(t){if(ie(t))for(let n of this.buffer)t(n);this.buffer.length=0}size(){return this.buffer.length}};function ur({apiMessageBus:e,transports:t,config:n}){let i=new rn,r=n.trackUserActionsExcludeItem,o;return e.subscribe(a=>{if(H===a.type||Ke===a.type){o=a;return}if(a.type===He){let{id:u,name:f}=a;i.flushBuffer(l=>{if(Ms(l,r)){t.execute(l);return}let c=Object.assign(Object.assign({},l),{payload:Object.assign(Object.assign({},l.payload),{action:{parentId:u,name:f}})});t.execute(c)}),o=void 0;return}a.type===qe&&(o=void 0,i.flushBuffer(u=>{t.execute(u)}))}),{actionBuffer:i,getMessage:()=>o}}function Ms(e,t){return t?.(e)||e.type===N.MEASUREMENT&&e.payload.type==="web-vitals"}var Se=new B;function ri(e,t,n,i,r){t.debug("Initializing API");let{actionBuffer:o,getMessage:s}=ur({apiMessageBus:Se,transports:r,config:n}),a=ii(e,t,n,i,r),u={unpatchedConsole:e,internalLogger:t,config:n,metas:i,transports:r,tracesApi:a,actionBuffer:o,getMessage:s};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),Zn(u)),ni(u)),ei(u)),ti(u)),Qn(u))}var D=class extends Re{constructor(){super(...arguments),this.api={},this.transports={}}};function oi(e,t,n,i,r,o){t.debug("Initializing instrumentations");let s=[];return{add:(...f)=>{t.debug("Adding instrumentations"),f.forEach(l=>{if(t.debug(`Adding "${l.name}" instrumentation`),s.some(d=>d.name===l.name)){t.warn(`Instrumentation ${l.name} is already added`);return}l.unpatchedConsole=e,l.internalLogger=t,l.config=n,l.metas=i,l.transports=r,l.api=o,s.push(l),l.initialize()})},get instrumentations(){return[...s]},remove:(...f)=>{t.debug("Removing instrumentations"),f.forEach(l=>{var c,d;t.debug(`Removing "${l.name}" instrumentation`);let p=s.reduce((m,h,b)=>m===null&&h.name===l.name?b:null,null);if(!p){t.warn(`Instrumentation "${l.name}" is not added`);return}(d=(c=s[p]).destroy)===null||d===void 0||d.call(c),s.splice(p,1)})}}}function si(e){e.instrumentations.add(...e.config.instrumentations)}function ai(e,t,n){let i=[],r=[],o=()=>i.reduce((c,d)=>Object.assign(c,ie(d)?d():d),{}),s=()=>{if(r.length){let c=o();r.forEach(d=>d(c))}};return{add:(...c)=>{t.debug(`Adding metas
`,c),i.push(...c),s()},remove:(...c)=>{t.debug(`Removing metas
`,c),i=i.filter(d=>!c.includes(d)),s()},addListener:c=>{t.debug(`Adding metas listener
`,c),r.push(c)},removeListener:c=>{t.debug(`Removing metas listener
`,c),r=r.filter(d=>d!==c)},get value(){return o()}}}var M="1.18.2";function li(e){var t,n;let i={sdk:{version:M},app:{bundleId:e.config.app.name&&ar(e.config.app.name)}},r=(t=e.config.sessionTracking)===null||t===void 0?void 0:t.session;r&&e.api.setSession(r),e.config.app&&(i.app=Object.assign(Object.assign({},e.config.app),i.app)),e.config.user&&(i.user=e.config.user),e.config.view&&(i.view=e.config.view),e.metas.add(i,...(n=e.config.metas)!==null&&n!==void 0?n:[])}var on="_faroInternal";function cr(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug(`Registering public faro reference in the global scope using "${e.config.globalObjectKey}" key`),e.config.globalObjectKey in re){e.internalLogger.warn(`Skipping global registration due to key "${e.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);return}Object.defineProperty(re,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}}function sn(e){e.config.isolate?e.internalLogger.debug("Skipping registering internal Faro instance on global object"):(e.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(re,on,{configurable:!1,enumerable:!1,writable:!1,value:e}))}function an(){return on in re}var I={};function ui(e,t,n,i,r,o,s){return t.debug("Initializing Faro"),I={api:o,config:n,instrumentations:s,internalLogger:t,metas:i,pause:r.pause,transports:r,unpatchedConsole:e,unpause:r.unpause},sn(I),cr(I),I}function ci(e){let t=$n(e),n=Xn(t,e);if(an()&&!e.isolate){n.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');return}n.debug("Initializing");let i=ai(t,n,e),r=Yn(t,n,e,i),o=ri(t,n,e,i,r),s=oi(t,n,e,i,r,o),a=ui(t,n,e,i,r,o,s);return li(a),Jn(a),si(a),a}var ln="faro",un={enabled:!0,sendTimeout:250,itemLimit:50};var dr="view_changed",ft="session_start",cn="session_resume",fr="session_extend",pr="service_name_override";var F="unknown";var gr=bs(mr());var fn=()=>{let e=new gr.UAParser,{name:t,version:n}=e.getBrowser(),{name:i,version:r}=e.getOS(),o=e.getUA(),s=navigator.language,a=navigator.userAgent.includes("Mobi"),u=f();return{browser:{name:t??F,version:n??F,os:`${i??F} ${r??F}`,userAgent:o??F,language:s??F,mobile:a,brands:u??F,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}};function f(){if(!(!t||!n)&&"userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands}};function pn(e){var t,n,i,r;return{id:(r=(i=(n=(t=I.config)===null||t===void 0?void 0:t.sessionTracking)===null||n===void 0?void 0:n.generateSessionId)===null||i===void 0?void 0:i.call(n))!==null&&r!==void 0?r:z(),attributes:e}}var q={session:"sessionStorage",local:"localStorage"};function di(e){var t;try{let n;n=window[e];let i="__faro_storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(n){return(t=I.internalLogger)===null||t===void 0||t.info(`Web storage of type ${e} is not available. Reason: ${n}`),!1}}function ve(e,t){return fi(t)?window[t].getItem(e):null}function ke(e,t,n){if(fi(n))try{window[n].setItem(e,t)}catch{}}function mt(e,t){fi(t)&&window[t].removeItem(e)}var mn=di(q.local),gn=di(q.session);function fi(e){return e===q.local?mn:e===q.session?gn:!1}function gt(e,t){let n=!1,i,r=()=>{if(i==null){n=!1;return}e(...i),i=null,setTimeout(r,t)};return(...o)=>{if(n){i=o;return}e(...o),n=!0,setTimeout(r,t)}}function Us(){return I.transports.transports.flatMap(e=>e.getIgnoreUrls())}function Me(e=""){return Us().some(t=>e&&e.match(t)!=null)}function vr(e){if(ne(e))return e;if(e instanceof URL)return e.href;if(!L(e)&&ie(e?.toString))return e.toString()}var me="com.grafana.faro.session";var vn={enabled:!0,persistent:!1,maxSessionPersistenceTime:9e5};function Pe(){var e,t,n;let r=I.config.sessionTracking,o=(n=(t=(e=r?.sampler)===null||e===void 0?void 0:e.call(r,{metas:I.metas.value}))!==null&&t!==void 0?t:r?.samplingRate)!==null&&n!==void 0?n:1;return typeof o!="number"&&(o=0),Math.random()<o}function vt({sessionId:e,started:t,lastActivity:n,isSampled:i=!0}={}){var r,o;let s=Y(),a=(o=(r=I.config)===null||r===void 0?void 0:r.sessionTracking)===null||o===void 0?void 0:o.generateSessionId;return e==null&&(e=typeof a=="function"?a():z()),{sessionId:e,lastActivity:n??s,started:t??s,isSampled:i}}function pi(e){if(e==null)return!1;let t=Y();return t-e.started<144e5?t-e.lastActivity<9e5:!1}function $e({fetchUserSession:e,storeUserSession:t}){return function({forceSessionExtend:i}={forceSessionExtend:!1}){var r,o,s;if(!e||!t)return;let a=I.config.sessionTracking,u=a?.persistent;if(u&&!mn||!u&&!gn)return;let f=e();if(i===!1&&pi(f))t(Object.assign(Object.assign({},f),{lastActivity:Y()}));else{let l=Er(vt({isSampled:Pe()}),f);t(l),(r=I.api)===null||r===void 0||r.setSession(l.sessionMeta),(o=a?.onSessionChange)===null||o===void 0||o.call(a,(s=f?.sessionMeta)!==null&&s!==void 0?s:null,l.sessionMeta)}}}function Er(e,t){var n,i,r,o,s,a,u;let f=Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign({},(i=(n=I.config.sessionTracking)===null||n===void 0?void 0:n.session)===null||i===void 0?void 0:i.attributes),(o=(r=I.metas.value.session)===null||r===void 0?void 0:r.attributes)!==null&&o!==void 0?o:{}),{isSampled:e.isSampled.toString()})}}),l=(a=(s=I.metas.value.session)===null||s===void 0?void 0:s.overrides)!==null&&a!==void 0?a:(u=t?.sessionMeta)===null||u===void 0?void 0:u.overrides;L(l)||(f.sessionMeta.overrides=l);let c=t?.sessionId;return c!=null&&(f.sessionMeta.attributes.previousSession=c),f}function bn({fetchUserSession:e,storeUserSession:t}){return function(i){let r=i.session,o=e(),s=r?.id,a=r?.attributes,u=r?.overrides,f=o?.sessionMeta,l=f?.overrides,c=!!u&&!V(u,l),d=!!a&&!V(a,f?.attributes);if(!!r&&s!==o?.sessionId||d||c){let m=Er(vt({sessionId:s,isSampled:Pe()}),o);t(m),Ls(c,u,l),I.api.setSession(m.sessionMeta)}}}function Ls(e,t={},n={}){var i,r,o;if(!e)return;let s=t.serviceName,a=(o=(i=n.serviceName)!==null&&i!==void 0?i:(r=I.metas.value.app)===null||r===void 0?void 0:r.name)!==null&&o!==void 0?o:"";s&&s!==a&&I.api.pushEvent(pr,{serviceName:s,previousServiceName:a})}var Te=class e{constructor(){this.updateSession=gt(()=>this.updateUserSession(),1e3),this.updateUserSession=$e({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}),this.init()}static removeUserSession(){mt(me,e.storageTypeLocal)}static storeUserSession(t){ke(me,oe(t),e.storageTypeLocal)}static fetchUserSession(){let t=ve(me,e.storageTypeLocal);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.updateSession()}),I.metas.addListener(bn({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}))}};Te.storageTypeLocal=q.local;var We=class e{constructor(){this.updateSession=gt(()=>this.updateUserSession(),1e3),this.updateUserSession=$e({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}),this.init()}static removeUserSession(){mt(me,e.storageTypeSession)}static storeUserSession(t){ke(me,oe(t),e.storageTypeSession)}static fetchUserSession(){let t=ve(me,e.storageTypeSession);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.updateSession()}),I.metas.addListener(bn({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}))}};We.storageTypeSession=q.session;function ht(e){return e?.persistent?Te:We}var Xe=class extends D{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=M}sendSessionStartEvent(t){var n,i;let r=t.session;if(r&&r.id!==((n=this.notifiedSession)===null||n===void 0?void 0:n.id)){if(this.notifiedSession&&this.notifiedSession.id===((i=r.attributes)===null||i===void 0?void 0:i.previousSession)){this.api.pushEvent(fr,{},void 0,{skipDedupe:!0}),this.notifiedSession=r;return}this.notifiedSession=r,this.api.pushEvent(ft,{},void 0,{skipDedupe:!0})}}createInitialSession(t,n){var i,r,o,s,a,u;let f=t.fetchUserSession();if(n.persistent&&n.maxSessionPersistenceTime&&f){let d=Y();f.lastActivity<d-n.maxSessionPersistenceTime&&(Te.removeUserSession(),f=null)}let l,c;if(pi(f)){let d=f?.sessionId;c=vt({sessionId:d,isSampled:f.isSampled||!1,started:f?.started});let p=f?.sessionMeta,m=Object.assign(Object.assign({},(i=n.session)===null||i===void 0?void 0:i.overrides),p?.overrides);c.sessionMeta=Object.assign(Object.assign({},n.session),{id:d,attributes:Object.assign(Object.assign(Object.assign({},(r=n.session)===null||r===void 0?void 0:r.attributes),p?.attributes),{isSampled:c.isSampled.toString()}),overrides:m}),l=cn}else{let d=(s=(o=n.session)===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:pn().id;c=vt({sessionId:d,isSampled:Pe()});let p=(a=n.session)===null||a===void 0?void 0:a.overrides;c.sessionMeta=Object.assign({id:d,attributes:Object.assign({isSampled:c.isSampled.toString()},(u=n.session)===null||u===void 0?void 0:u.attributes)},p?{overrides:p}:{}),l=ft}return{initialSession:c,lifecycleType:l}}registerBeforeSendHook(t){var n;let{updateSession:i}=new t;(n=this.transports)===null||n===void 0||n.addBeforeSendHooks(r=>{var o,s,a;i();let u=(o=r.meta.session)===null||o===void 0?void 0:o.attributes;if(u&&u?.isSampled==="true"){let f=JSON.parse(JSON.stringify(r)),l=(s=f.meta.session)===null||s===void 0?void 0:s.attributes;return l==null||delete l.isSampled,Object.keys(l??{}).length===0&&((a=f.meta.session)===null||a===void 0||delete a.attributes),f}return null})}initialize(){this.logDebug("init session instrumentation");let t=this.config.sessionTracking;if(t?.enabled){let n=ht(t);this.registerBeforeSendHook(n);let{initialSession:i,lifecycleType:r}=this.createInitialSession(n,t);n.storeUserSession(i);let o=i.sessionMeta;this.notifiedSession=o,this.api.setSession(o),r===ft&&this.api.pushEvent(ft,{},void 0,{skipDedupe:!0}),r===cn&&this.api.pushEvent(cn,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}};var Sr="Non-Error promise rejection captured with value:",Tr="UnhandledRejection",yr="DOMError",xr="DOMException",Ir="Non-Error exception captured with keys:",wr="?",_r=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Or(e){var t,n;let i=e.match(_r),r=(t=i?.[1])!==null&&t!==void 0?t:Ce;return[(n=i?.[2])!==null&&n!==void 0?n:e,r]}var mi=`
`,Ar="eval",Nr="?",gi="@",Rr=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Cr=/\((\S*)(?::(\d+))(?::(\d+))\)/,kr="eval",vi="address at ",Mr=vi.length,Pr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ur=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Lr=" > eval",bi="safari-extension",hi="safari-web-extension",Dr=/Minified React error #\d+;/i;function Ue(e,t,n,i){let r={filename:e||document.location.href,function:t||Nr};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}function Et(e,t){let n=e?.includes(bi),i=!n&&e?.includes(hi);return!n&&!i?[e,t]:[e?.includes(gi)?e.split(gi)[0]:e,n?`${bi}:${t}`:`${hi}:${t}`]}function ye(e){let t=[];e.stacktrace?t=e.stacktrace.split(mi).filter((i,r)=>r%2===0):e.stack&&(t=e.stack.split(mi));let n=t.reduce((i,r,o)=>{let s,a,u,f,l;if(s=Rr.exec(r)){if(a=s[1],u=s[2],f=s[3],l=s[4],u?.startsWith(kr)){let c=Cr.exec(u);c&&(u=c[1],f=c[2],l=c[3])}u=u?.startsWith(vi)?u.substring(Mr):u,[a,u]=Et(a,u)}else if(s=Pr.exec(r)){if(a=s[1],u=s[3],f=s[4],l=s[5],u&&u.includes(Lr)){let c=Ur.exec(u);c&&(a=a||Ar,u=c[1],f=c[2])}else o===0&&!l&&Gt(e.columnNumber)&&(l=String(e.columnNumber+1));[a,u]=Et(a,u)}return(u||a)&&i.push(Ue(u,a,f?Number(f):void 0,l?Number(l):void 0)),i},[]);return Dr.test(e.message)?n.slice(1):n}function St(e){return{frames:ye(e)}}function Ei(e){let t,n,i=[],r,o;if(Yt(e)&&e.error)t=e.error.message,n=e.error.name,i=ye(e.error);else if((r=$t(e))||Wt(e)){let{name:s,message:a}=e;n=s??(r?yr:xr),t=a?`${n}: ${a}`:n}else Ae(e)?(t=e.message,i=ye(e)):(U(e)||(o=Kt(e)))&&(n=o?e.constructor.name:void 0,t=`${Ir} ${Object.keys(e)}`);return[t,n,i]}function Si(e){let[t,n,i,r,o]=e,s,a,u=[],f=ne(t),l=Ue(n,wr,i,r);return o||!f?([s,a,u]=Ei(o??t),u.length===0&&(u=[l])):f&&([s,a]=Or(t),u=[l]),{value:s,type:a,stackFrames:u}}function Ti(e,t){return Ae(e[0])?Si(e):{value:t(e)}}var xe=class e extends D{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=M,this.errorSerializer=pe}initialize(){var t,n,i,r;this.options=Object.assign(Object.assign({},this.options),this.config.consoleInstrumentation);let o=((t=this.options)===null||t===void 0?void 0:t.serializeErrors)||!!(!((n=this.options)===null||n===void 0)&&n.errorSerializer);this.errorSerializer=o?(r=(i=this.options)===null||i===void 0?void 0:i.errorSerializer)!==null&&r!==void 0?r:Ye:pe,Jt.filter(s=>{var a,u;return!((u=(a=this.options)===null||a===void 0?void 0:a.disabledLevels)!==null&&u!==void 0?u:e.defaultDisabledLevels).includes(s)}).forEach(s=>{console[s]=(...a)=>{var u,f;try{if(s===j.ERROR&&!(!((u=this.options)===null||u===void 0)&&u.consoleErrorAsLog)){let{value:l,type:c,stackFrames:d}=Ti(a,this.errorSerializer);if(l&&!c&&!d){this.api.pushError(new Error(e.consoleErrorPrefix+l));return}this.api.pushError(new Error(e.consoleErrorPrefix+l),{type:c,stackFrames:d})}else if(s===j.ERROR&&(!((f=this.options)===null||f===void 0)&&f.consoleErrorAsLog)){let{value:l,type:c,stackFrames:d}=Ti(a,this.errorSerializer);this.api.pushLog(l?[e.consoleErrorPrefix+l]:a,{level:s,context:{value:l??"",type:c??"",stackFrames:d?.length?Ye(d):""}})}else this.api.pushLog(a,{level:s})}catch(l){this.logError(l)}finally{this.unpatchedConsole[s](...a)}}})}};xe.defaultDisabledLevels=[j.DEBUG,j.TRACE,j.LOG];xe.consoleErrorPrefix="console.error: ";function Fr(e){let t=window.onerror;window.onerror=(...n)=>{try{let{value:i,type:r,stackFrames:o}=Si(n),s=n[4];if(i){let a={type:r,stackFrames:o};s!=null&&(a.originalError=s),e.pushError(new Error(i),a)}}finally{t?.apply(window,n)}}}function jr(e){window.addEventListener("unhandledrejection",t=>{var n,i;let r=t;r.reason?r=t.reason:!((n=t.detail)===null||n===void 0)&&n.reason&&(r=(i=t.detail)===null||i===void 0?void 0:i.reason);let o,s,a=[];qt(r)?(o=`${Sr} ${String(r)}`,s=Tr):[o,s,a]=Ei(r),o&&e.pushError(new Error(o),{type:s,stackFrames:a})})}var Je=class extends D{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=M}initialize(){this.logDebug("Initializing"),Fr(this.api),jr(this.api)}};var Qe=class extends D{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=M}sendViewChangedEvent(t){var n,i,r,o;let s=t.view;s&&s.name!==((n=this.notifiedView)===null||n===void 0?void 0:n.name)&&(this.api.pushEvent(dr,{fromView:(r=(i=this.notifiedView)===null||i===void 0?void 0:i.name)!==null&&r!==void 0?r:F,toView:(o=s.name)!==null&&o!==void 0?o:F},void 0,{skipDedupe:!0}),this.notifiedView=s)}initialize(){this.metas.addListener(this.sendViewChangedEvent.bind(this))}};var Ii,Ie,yt,Wr,Sn,Xr=-1,Le=function(e){addEventListener("pageshow",function(t){t.persisted&&(Xr=t.timeStamp,e(t))},!0)},wi=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},yn=function(){var e=wi();return e&&e.activationStart||0},J=function(e,t){var n=wi(),i="navigate";return Xr>=0?i="back-forward-cache":n&&(document.prerendering||yn()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},et=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch{}},Q=function(e,t,n,i){var r,o;return function(s){t.value>=0&&(s||i)&&((o=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=o,t.rating=function(a,u){return a>u[1]?"poor":a>u[0]?"needs-improvement":"good"}(t.value,n),e(t))}},_i=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},xt=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},xn=function(e){var t=!1;return function(){t||(e(),t=!0)}},Ze=-1,Br=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Tn=function(e){document.visibilityState==="hidden"&&Ze>-1&&(Ze=e.type==="visibilitychange"?e.timeStamp:0,js())},Vr=function(){addEventListener("visibilitychange",Tn,!0),addEventListener("prerenderingchange",Tn,!0)},js=function(){removeEventListener("visibilitychange",Tn,!0),removeEventListener("prerenderingchange",Tn,!0)},Oi=function(){return Ze<0&&(Ze=Br(),Vr(),Le(function(){setTimeout(function(){Ze=Br(),Vr()},0)})),{get firstHiddenTime(){return Ze}}},It=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},zr=[1800,3e3],Ai=function(e,t){t=t||{},It(function(){var n,i=Oi(),r=J("FCP"),o=et("paint",function(s){s.forEach(function(a){a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<i.firstHiddenTime&&(r.value=Math.max(a.startTime-yn(),0),r.entries.push(a),n(!0)))})});o&&(n=Q(e,r,zr,t.reportAllChanges),Le(function(s){r=J("FCP"),n=Q(e,r,zr,t.reportAllChanges),_i(function(){r.value=performance.now()-s.timeStamp,n(!0)})}))})},Gr=[.1,.25],Jr=function(e,t){t=t||{},Ai(xn(function(){var n,i=J("CLS",0),r=0,o=[],s=function(u){u.forEach(function(f){if(!f.hadRecentInput){var l=o[0],c=o[o.length-1];r&&f.startTime-c.startTime<1e3&&f.startTime-l.startTime<5e3?(r+=f.value,o.push(f)):(r=f.value,o=[f])}}),r>i.value&&(i.value=r,i.entries=o,n())},a=et("layout-shift",s);a&&(n=Q(e,i,Gr,t.reportAllChanges),xt(function(){s(a.takeRecords()),n(!0)}),Le(function(){r=0,i=J("CLS",0),n=Q(e,i,Gr,t.reportAllChanges),_i(function(){return n()})}),setTimeout(n,0))}))},Qr=0,yi=1/0,hn=0,Bs=function(e){e.forEach(function(t){t.interactionId&&(yi=Math.min(yi,t.interactionId),hn=Math.max(hn,t.interactionId),Qr=hn?(hn-yi)/7+1:0)})},Zr=function(){return Ii?Qr:performance.interactionCount||0},Vs=function(){"interactionCount"in performance||Ii||(Ii=et("event",Bs,{type:"event",buffered:!0,durationThreshold:0}))},ge=[],En=new Map,eo=0,zs=function(){var e=Math.min(ge.length-1,Math.floor((Zr()-eo)/50));return ge[e]},Gs=[],Hs=function(e){if(Gs.forEach(function(r){return r(e)}),e.interactionId||e.entryType==="first-input"){var t=ge[ge.length-1],n=En.get(e.interactionId);if(n||ge.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};En.set(i.id,i),ge.push(i)}ge.sort(function(r,o){return o.latency-r.latency}),ge.length>10&&ge.splice(10).forEach(function(r){return En.delete(r.id)})}}},to=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=xn(e),document.visibilityState==="hidden"?e():(n=t(e),xt(e)),n},Hr=[200,500],no=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},It(function(){var n;Vs();var i,r=J("INP"),o=function(a){to(function(){a.forEach(Hs);var u=zs();u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,i())})},s=et("event",o,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});i=Q(e,r,Hr,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),xt(function(){o(s.takeRecords()),i(!0)}),Le(function(){eo=Zr(),ge.length=0,En.clear(),r=J("INP"),i=Q(e,r,Hr,t.reportAllChanges)}))}))},qr=[2500,4e3],xi={},io=function(e,t){t=t||{},It(function(){var n,i=Oi(),r=J("LCP"),o=function(u){t.reportAllChanges||(u=u.slice(-1)),u.forEach(function(f){f.startTime<i.firstHiddenTime&&(r.value=Math.max(f.startTime-yn(),0),r.entries=[f],n())})},s=et("largest-contentful-paint",o);if(s){n=Q(e,r,qr,t.reportAllChanges);var a=xn(function(){xi[r.id]||(o(s.takeRecords()),s.disconnect(),xi[r.id]=!0,n(!0))});["keydown","click"].forEach(function(u){addEventListener(u,function(){return to(a)},{once:!0,capture:!0})}),xt(a),Le(function(u){r=J("LCP"),n=Q(e,r,qr,t.reportAllChanges),_i(function(){r.value=performance.now()-u.timeStamp,xi[r.id]=!0,n(!0)})})}})},Kr=[800,1800],qs=function e(t){document.prerendering?It(function(){return e(t)}):document.readyState!=="complete"?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},ro=function(e,t){t=t||{};var n=J("TTFB"),i=Q(e,n,Kr,t.reportAllChanges);qs(function(){var r=wi();r&&(n.value=Math.max(r.responseStart-yn(),0),n.entries=[r],i(!0),Le(function(){n=J("TTFB",0),(i=Q(e,n,Kr,t.reportAllChanges))(!0)}))})},Tt={passive:!0,capture:!0},Ks=new Date,Yr=function(e,t){Ie||(Ie=t,yt=e,Wr=new Date,so(removeEventListener),oo())},oo=function(){if(yt>=0&&yt<Wr-Ks){var e={entryType:"first-input",name:Ie.type,target:Ie.target,cancelable:Ie.cancelable,startTime:Ie.timeStamp,processingStart:Ie.timeStamp+yt};Sn.forEach(function(t){t(e)}),Sn=[]}},Ys=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,i){var r=function(){Yr(n,i),s()},o=function(){s()},s=function(){removeEventListener("pointerup",r,Tt),removeEventListener("pointercancel",o,Tt)};addEventListener("pointerup",r,Tt),addEventListener("pointercancel",o,Tt)}(t,e):Yr(t,e)}},so=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,Ys,Tt)})},$r=[100,300],ao=function(e,t){t=t||{},It(function(){var n,i=Oi(),r=J("FID"),o=function(u){u.startTime<i.firstHiddenTime&&(r.value=u.processingStart-u.startTime,r.entries.push(u),n(!0))},s=function(u){u.forEach(o)},a=et("first-input",s);n=Q(e,r,$r,t.reportAllChanges),a&&(xt(xn(function(){s(a.takeRecords()),a.disconnect()})),Le(function(){var u;r=J("FID"),n=Q(e,r,$r,t.reportAllChanges),Sn=[],yt=-1,Ie=null,so(addEventListener),u=o,Sn.push(u),oo()}))})};var wt=class e{constructor(t,n){this.pushMeasurement=t,this.webVitalConfig=n}initialize(){Object.entries(e.mapping).forEach(([t,n])=>{var i;n(r=>{this.pushMeasurement({type:"web-vitals",values:{[t]:r.value}})},{reportAllChanges:(i=this.webVitalConfig)===null||i===void 0?void 0:i.reportAllChanges})})}};wt.mapping={cls:Jr,fcp:Ai,fid:ao,inp:no,lcp:io,ttfb:ro};var Ci,lo,rt=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Nt=function(e){if(document.readyState==="loading")return"loading";var t=rt();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},$s=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},On=function(e,t){var n="";try{for(;e&&e.nodeType!==9;){var i=e,r=i.id?"#"+i.id:$s(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+r.length>(t||100)-1)return n||r;if(n=n?r+">"+n:r,i.id)break;e=i.parentNode}}catch{}return n},Eo=-1,So=function(){return Eo},De=function(e){addEventListener("pageshow",function(t){t.persisted&&(Eo=t.timeStamp,e(t))},!0)},An=function(){var e=rt();return e&&e.activationStart||0},Z=function(e,t){var n=rt(),i="navigate";return So()>=0?i="back-forward-cache":n&&(document.prerendering||An()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Fe=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(r){Promise.resolve().then(function(){t(r.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch{}},ee=function(e,t,n,i){var r,o;return function(s){t.value>=0&&(s||i)&&((o=t.value-(r||0))||r===void 0)&&(r=t.value,t.delta=o,t.rating=function(a,u){return a>u[1]?"poor":a>u[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Pi=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Rt=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},Nn=function(e){var t=!1;return function(){t||(e(),t=!0)}},tt=-1,uo=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},wn=function(e){document.visibilityState==="hidden"&&tt>-1&&(tt=e.type==="visibilitychange"?e.timeStamp:0,Ws())},co=function(){addEventListener("visibilitychange",wn,!0),addEventListener("prerenderingchange",wn,!0)},Ws=function(){removeEventListener("visibilitychange",wn,!0),removeEventListener("prerenderingchange",wn,!0)},Ui=function(){return tt<0&&(tt=uo(),co(),De(function(){setTimeout(function(){tt=uo(),co()},0)})),{get firstHiddenTime(){return tt}}},Ct=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},fo=[1800,3e3],To=function(e,t){t=t||{},Ct(function(){var n,i=Ui(),r=Z("FCP"),o=Fe("paint",function(s){s.forEach(function(a){a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<i.firstHiddenTime&&(r.value=Math.max(a.startTime-An(),0),r.entries.push(a),n(!0)))})});o&&(n=ee(e,r,fo,t.reportAllChanges),De(function(s){r=Z("FCP"),n=ee(e,r,fo,t.reportAllChanges),Pi(function(){r.value=performance.now()-s.timeStamp,n(!0)})}))})},po=[.1,.25],yo=function(e,t){(function(n,i){i=i||{},To(Nn(function(){var r,o=Z("CLS",0),s=0,a=[],u=function(l){l.forEach(function(c){if(!c.hadRecentInput){var d=a[0],p=a[a.length-1];s&&c.startTime-p.startTime<1e3&&c.startTime-d.startTime<5e3?(s+=c.value,a.push(c)):(s=c.value,a=[c])}}),s>o.value&&(o.value=s,o.entries=a,r())},f=Fe("layout-shift",u);f&&(r=ee(n,o,po,i.reportAllChanges),Rt(function(){u(f.takeRecords()),r(!0)}),De(function(){s=0,o=Z("CLS",0),r=ee(n,o,po,i.reportAllChanges),Pi(function(){return r()})}),setTimeout(r,0))}))})(function(n){var i=function(r){var o,s={};if(r.entries.length){var a=r.entries.reduce(function(f,l){return f&&f.value>l.value?f:l});if(a&&a.sources&&a.sources.length){var u=(o=a.sources).find(function(f){return f.node&&f.node.nodeType===1})||o[0];u&&(s={largestShiftTarget:On(u.node),largestShiftTime:a.startTime,largestShiftValue:a.value,largestShiftSource:u,largestShiftEntry:a,loadState:Nt(a.startTime)})}}return Object.assign(r,{attribution:s})}(n);e(i)},t)},xo=function(e,t){To(function(n){var i=function(r){var o={timeToFirstByte:0,firstByteToFCP:r.value,loadState:Nt(So())};if(r.entries.length){var s=rt(),a=r.entries[r.entries.length-1];if(s){var u=s.activationStart||0,f=Math.max(0,s.responseStart-u);o={timeToFirstByte:f,firstByteToFCP:r.value-f,loadState:Nt(r.entries[0].startTime),navigationEntry:s,fcpEntry:a}}}return Object.assign(r,{attribution:o})}(n);e(i)},t)},Io=0,Ni=1/0,In=0,Xs=function(e){e.forEach(function(t){t.interactionId&&(Ni=Math.min(Ni,t.interactionId),In=Math.max(In,t.interactionId),Io=In?(In-Ni)/7+1:0)})},wo=function(){return Ci?Io:performance.interactionCount||0},Js=function(){"interactionCount"in performance||Ci||(Ci=Fe("event",Xs,{type:"event",buffered:!0,durationThreshold:0}))},ae=[],Ot=new Map,_o=0,Qs=function(){var e=Math.min(ae.length-1,Math.floor((wo()-_o)/50));return ae[e]},Oo=[],Zs=function(e){if(Oo.forEach(function(r){return r(e)}),e.interactionId||e.entryType==="first-input"){var t=ae[ae.length-1],n=Ot.get(e.interactionId);if(n||ae.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Ot.set(i.id,i),ae.push(i)}ae.sort(function(r,o){return o.latency-r.latency}),ae.length>10&&ae.splice(10).forEach(function(r){return Ot.delete(r.id)})}}},Li=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Nn(e),document.visibilityState==="hidden"?e():(n=t(e),Rt(e)),n},mo=[200,500],ea=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Ct(function(){var n;Js();var i,r=Z("INP"),o=function(a){Li(function(){a.forEach(Zs);var u=Qs();u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,i())})},s=Fe("event",o,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});i=ee(e,r,mo,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),Rt(function(){o(s.takeRecords()),i(!0)}),De(function(){_o=wo(),ae.length=0,Ot.clear(),r=Z("INP"),i=ee(e,r,mo,t.reportAllChanges)}))}))},nt=[],we=[],ki=0,Di=new WeakMap,it=new Map,Mi=-1,ta=function(e){nt=nt.concat(e),Ao()},Ao=function(){Mi<0&&(Mi=Li(na))},na=function(){it.size>10&&it.forEach(function(s,a){Ot.has(a)||it.delete(a)});var e=ae.map(function(s){return Di.get(s.entries[0])}),t=we.length-50;we=we.filter(function(s,a){return a>=t||e.includes(s)});for(var n=new Set,i=0;i<we.length;i++){var r=we[i];Ro(r.startTime,r.processingEnd).forEach(function(s){n.add(s)})}var o=nt.length-1-50;nt=nt.filter(function(s,a){return s.startTime>ki&&a>o||n.has(s)}),Mi=-1};Oo.push(function(e){e.interactionId&&e.target&&!it.has(e.interactionId)&&it.set(e.interactionId,e.target)},function(e){var t,n=e.startTime+e.duration;ki=Math.max(ki,e.processingEnd);for(var i=we.length-1;i>=0;i--){var r=we[i];if(Math.abs(n-r.renderTime)<=8){(t=r).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},we.push(t)),(e.interactionId||e.entryType==="first-input")&&Di.set(e,t),Ao()});var _e,At,No,_n,Ro=function(e,t){for(var n,i=[],r=0;n=nt[r];r++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;i.push(n)}return i},Co=function(e,t){lo||(lo=Fe("long-animation-frame",ta)),ea(function(n){var i=function(r){var o=r.entries[0],s=Di.get(o),a=o.processingStart,u=s.processingEnd,f=s.entries.sort(function(b,g){return b.processingStart-g.processingStart}),l=Ro(o.startTime,u),c=r.entries.find(function(b){return b.target}),d=c&&c.target||it.get(o.interactionId),p=[o.startTime+o.duration,u].concat(l.map(function(b){return b.startTime+b.duration})),m=Math.max.apply(Math,p),h={interactionTarget:On(d),interactionTargetElement:d,interactionType:o.name.startsWith("key")?"keyboard":"pointer",interactionTime:o.startTime,nextPaintTime:m,processedEventEntries:f,longAnimationFrameEntries:l,inputDelay:a-o.startTime,processingDuration:u-a,presentationDelay:Math.max(m-u,0),loadState:Nt(o.startTime)};return Object.assign(r,{attribution:h})}(n);e(i)},t)},go=[2500,4e3],Ri={},ko=function(e,t){(function(n,i){i=i||{},Ct(function(){var r,o=Ui(),s=Z("LCP"),a=function(l){i.reportAllChanges||(l=l.slice(-1)),l.forEach(function(c){c.startTime<o.firstHiddenTime&&(s.value=Math.max(c.startTime-An(),0),s.entries=[c],r())})},u=Fe("largest-contentful-paint",a);if(u){r=ee(n,s,go,i.reportAllChanges);var f=Nn(function(){Ri[s.id]||(a(u.takeRecords()),u.disconnect(),Ri[s.id]=!0,r(!0))});["keydown","click"].forEach(function(l){addEventListener(l,function(){return Li(f)},{once:!0,capture:!0})}),Rt(f),De(function(l){s=Z("LCP"),r=ee(n,s,go,i.reportAllChanges),Pi(function(){s.value=performance.now()-l.timeStamp,Ri[s.id]=!0,r(!0)})})}})})(function(n){var i=function(r){var o={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:r.value};if(r.entries.length){var s=rt();if(s){var a=s.activationStart||0,u=r.entries[r.entries.length-1],f=u.url&&performance.getEntriesByType("resource").filter(function(m){return m.name===u.url})[0],l=Math.max(0,s.responseStart-a),c=Math.max(l,f?(f.requestStart||f.startTime)-a:0),d=Math.max(c,f?f.responseEnd-a:0),p=Math.max(d,u.startTime-a);o={element:On(u.element),timeToFirstByte:l,resourceLoadDelay:c-l,resourceLoadDuration:d-c,elementRenderDelay:p-d,navigationEntry:s,lcpEntry:u},u.url&&(o.url=u.url),f&&(o.lcpResourceEntry=f)}}return Object.assign(r,{attribution:o})}(n);e(i)},t)},vo=[800,1800],ia=function e(t){document.prerendering?Ct(function(){return e(t)}):document.readyState!=="complete"?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},ra=function(e,t){t=t||{};var n=Z("TTFB"),i=ee(e,n,vo,t.reportAllChanges);ia(function(){var r=rt();r&&(n.value=Math.max(r.responseStart-An(),0),n.entries=[r],i(!0),De(function(){n=Z("TTFB",0),(i=ee(e,n,vo,t.reportAllChanges))(!0)}))})},Mo=function(e,t){ra(function(n){var i=function(r){var o={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(r.entries.length){var s=r.entries[0],a=s.activationStart||0,u=Math.max((s.workerStart||s.fetchStart)-a,0),f=Math.max(s.domainLookupStart-a,0),l=Math.max(s.connectStart-a,0),c=Math.max(s.connectEnd-a,0);o={waitingDuration:u,cacheDuration:f-u,dnsDuration:l-f,connectionDuration:c-l,requestDuration:r.value-c,navigationEntry:s}}return Object.assign(r,{attribution:o})}(n);e(i)},t)},_t={passive:!0,capture:!0},oa=new Date,bo=function(e,t){_e||(_e=t,At=e,No=new Date,Uo(removeEventListener),Po())},Po=function(){if(At>=0&&At<No-oa){var e={entryType:"first-input",name:_e.type,target:_e.target,cancelable:_e.cancelable,startTime:_e.timeStamp,processingStart:_e.timeStamp+At};_n.forEach(function(t){t(e)}),_n=[]}},sa=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,i){var r=function(){bo(n,i),s()},o=function(){s()},s=function(){removeEventListener("pointerup",r,_t),removeEventListener("pointercancel",o,_t)};addEventListener("pointerup",r,_t),addEventListener("pointercancel",o,_t)}(t,e):bo(t,e)}},Uo=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,sa,_t)})},ho=[100,300],aa=function(e,t){t=t||{},Ct(function(){var n,i=Ui(),r=Z("FID"),o=function(u){u.startTime<i.firstHiddenTime&&(r.value=u.processingStart-u.startTime,r.entries.push(u),n(!0))},s=function(u){u.forEach(o)},a=Fe("first-input",s);n=ee(e,r,ho,t.reportAllChanges),a&&(Rt(Nn(function(){s(a.takeRecords()),a.disconnect()})),De(function(){var u;r=Z("FID"),n=ee(e,r,ho,t.reportAllChanges),_n=[],At=-1,_e=null,Uo(addEventListener),u=o,_n.push(u),Po()}))})},Lo=function(e,t){aa(function(n){var i=function(r){var o=r.entries[0],s={eventTarget:On(o.target),eventType:o.name,eventTime:o.startTime,eventEntry:o,loadState:Nt(o.startTime)};return Object.assign(r,{attribution:s})}(n);e(i)},t)};var kt="com.grafana.faro.lastNavigationId";var Rn="load_state",Do="time_to_first_byte",Cn=class{constructor(t,n){this.corePushMeasurement=t,this.webVitalConfig=n}initialize(){this.measureCLS(),this.measureFCP(),this.measureFID(),this.measureINP(),this.measureLCP(),this.measureTTFB()}measureCLS(){var t;yo(n=>{let{loadState:i,largestShiftValue:r,largestShiftTime:o,largestShiftTarget:s}=n.attribution,a=this.buildInitialValues(n);this.addIfPresent(a,"largest_shift_value",r),this.addIfPresent(a,"largest_shift_time",o);let u=this.buildInitialContext(n);this.addIfPresent(u,Rn,i),this.addIfPresent(u,"largest_shift_target",s),this.pushMeasurement(a,u)},{reportAllChanges:(t=this.webVitalConfig)===null||t===void 0?void 0:t.reportAllChanges})}measureFCP(){var t;xo(n=>{let{firstByteToFCP:i,timeToFirstByte:r,loadState:o}=n.attribution,s=this.buildInitialValues(n);this.addIfPresent(s,"first_byte_to_fcp",i),this.addIfPresent(s,Do,r);let a=this.buildInitialContext(n);this.addIfPresent(a,Rn,o),this.pushMeasurement(s,a)},{reportAllChanges:(t=this.webVitalConfig)===null||t===void 0?void 0:t.reportAllChanges})}measureFID(){var t;Lo(n=>{let{eventTime:i,eventTarget:r,eventType:o,loadState:s}=n.attribution,a=this.buildInitialValues(n);this.addIfPresent(a,"event_time",i);let u=this.buildInitialContext(n);this.addIfPresent(u,"event_target",r),this.addIfPresent(u,"event_type",o),this.addIfPresent(u,Rn,s),this.pushMeasurement(a,u)},{reportAllChanges:(t=this.webVitalConfig)===null||t===void 0?void 0:t.reportAllChanges})}measureINP(){var t;Co(n=>{let{interactionTime:i,presentationDelay:r,inputDelay:o,processingDuration:s,nextPaintTime:a,loadState:u,interactionTarget:f,interactionType:l}=n.attribution,c=this.buildInitialValues(n);this.addIfPresent(c,"interaction_time",i),this.addIfPresent(c,"presentation_delay",r),this.addIfPresent(c,"input_delay",o),this.addIfPresent(c,"processing_duration",s),this.addIfPresent(c,"next_paint_time",a);let d=this.buildInitialContext(n);this.addIfPresent(d,Rn,u),this.addIfPresent(d,"interaction_target",f),this.addIfPresent(d,"interaction_type",l),this.pushMeasurement(c,d)},{reportAllChanges:(t=this.webVitalConfig)===null||t===void 0?void 0:t.reportAllChanges})}measureLCP(){var t;ko(n=>{let{elementRenderDelay:i,resourceLoadDelay:r,resourceLoadDuration:o,timeToFirstByte:s,element:a}=n.attribution,u=this.buildInitialValues(n);this.addIfPresent(u,"element_render_delay",i),this.addIfPresent(u,"resource_load_delay",r),this.addIfPresent(u,"resource_load_duration",o),this.addIfPresent(u,Do,s);let f=this.buildInitialContext(n);this.addIfPresent(f,"element",a),this.pushMeasurement(u,f)},{reportAllChanges:(t=this.webVitalConfig)===null||t===void 0?void 0:t.reportAllChanges})}measureTTFB(){var t;Mo(n=>{let{dnsDuration:i,connectionDuration:r,requestDuration:o,waitingDuration:s,cacheDuration:a}=n.attribution,u=this.buildInitialValues(n);this.addIfPresent(u,"dns_duration",i),this.addIfPresent(u,"connection_duration",r),this.addIfPresent(u,"request_duration",o),this.addIfPresent(u,"waiting_duration",s),this.addIfPresent(u,"cache_duration",a);let f=this.buildInitialContext(n);this.pushMeasurement(u,f)},{reportAllChanges:(t=this.webVitalConfig)===null||t===void 0?void 0:t.reportAllChanges})}buildInitialValues(t){return{[t.name.toLowerCase()]:t.value,delta:t.delta}}buildInitialContext(t){var n;let i=(n=ve(kt,q.session))!==null&&n!==void 0?n:F;return{id:t.id,rating:t.rating,navigation_type:t.navigationType,navigation_entry_id:i}}pushMeasurement(t,n){this.corePushMeasurement({type:"web-vitals",values:t},{context:n})}addIfPresent(t,n,i){i&&(t[n]=i)}};var ot=class extends D{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=M}initialize(){this.logDebug("Initializing"),this.intializeWebVitalsInstrumentation().initialize()}intializeWebVitalsInstrumentation(){var t,n,i;return((t=this.config)===null||t===void 0?void 0:t.trackWebVitalsAttribution)===!1||((i=(n=this.config)===null||n===void 0?void 0:n.webVitalsInstrumentation)===null||i===void 0?void 0:i.trackAttribution)===!1?new wt(this.api.pushMeasurement,this.config.webVitalsInstrumentation):new Cn(this.api.pushMeasurement,this.config.webVitalsInstrumentation)}};var Fo="navigation",Mt="resource";var la=/^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;function kn(e=[]){for(let t of e)if(t.name==="traceparent"){if(!la.test(t.description))continue;let[,n,i]=t.description.split("-");if(n!=null&&i!=null)return{traceId:n,spanId:i};break}}function jo(){return"PerformanceObserver"in window}function Bo(e){if(document.readyState==="complete")e();else{let t=()=>{document.readyState==="complete"&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}function Vo(e,t={}){for(let[n,i]of Object.entries(t)){let r=e[n];return r==null?!1:ce(i)?i.includes(r):r===i}return!0}function Fi(e){let{connectEnd:t,connectStart:n,decodedBodySize:i,domainLookupEnd:r,domainLookupStart:o,duration:s,encodedBodySize:a,fetchStart:u,initiatorType:f,name:l,nextHopProtocol:c,redirectEnd:d,redirectStart:p,renderBlockingStatus:m,requestStart:h,responseEnd:b,responseStart:g,responseStatus:v,secureConnectionStart:O,transferSize:R,workerStart:w}=e;return{name:l,duration:k(s),tcpHandshakeTime:k(t-n),dnsLookupTime:k(r-o),tlsNegotiationTime:k(t-O),responseStatus:k(v),redirectTime:k(d-p),requestTime:k(g-h),responseTime:k(b-g),fetchTime:k(b-u),serviceWorkerTime:k(u-w),decodedBodySize:k(i),encodedBodySize:k(a),cacheHitStatus:E(),renderBlockingStatus:k(m),protocol:c,initiatorType:f,visibilityState:document.visibilityState,ttfb:k(g-h),transferSize:k(R)};function E(){let x="fullLoad";return R===0?i>0&&(x="cache"):v!=null?v===304&&(x="conditionalFetch"):a>0&&R<a&&(x="conditionalFetch"),x}}function zo(e){let{activationStart:t,domComplete:n,domContentLoadedEventEnd:i,domContentLoadedEventStart:r,domInteractive:o,fetchStart:s,loadEventEnd:a,loadEventStart:u,responseStart:f,type:l}=e,c=ua();return Object.assign(Object.assign({},Fi(e)),{pageLoadTime:k(n-s),documentParsingTime:k(c?o-c:null),domProcessingTime:k(n-o),domContentLoadHandlerTime:k(i-r),onLoadTime:k(a-u),ttfb:k(Math.max(f-(t??0),0)),type:l})}function ua(){var e;return((e=performance.timing)===null||e===void 0?void 0:e.domLoading)!=null?performance.timing.domLoading-performance.timeOrigin:null}function k(e){return e==null?F:typeof e=="number"?Math.round(e>0?e:0).toString():e.toString()}function Go(e){let t,n=new Promise(r=>{t=r});return new PerformanceObserver(r=>{var o;let[s]=r.getEntries();if(s==null||Me(s.name))return;let a=s.toJSON(),u=kn(a?.serverTiming),f=(o=ve(kt,q.session))!==null&&o!==void 0?o:F,l=Object.assign(Object.assign({},zo(a)),{faroNavigationId:z(),faroPreviousNavigationId:f});ke(kt,l.faroNavigationId,q.session),e("faro.performance.navigation",l,void 0,{spanContext:u,timestampOverwriteMs:performance.timeOrigin+a.startTime}),t(l)}).observe({type:Fo,buffered:!0}),n}var ca={initiatorType:["xmlhttprequest","fetch"]};function Ho(e,t,n){let i=I.config.trackResources;new PerformanceObserver(o=>{let s=o.getEntries();for(let a of s){if(Me(a.name))return;let u=a.toJSON(),f=kn(u?.serverTiming);if(i==null&&Vo(u,ca)||i){let l=Object.assign(Object.assign({},Fi(u)),{faroNavigationId:e,faroResourceId:z()});I.config.trackUserActionsPreview&&n?.notify({type:Mt}),t("faro.performance.resource",l,void 0,{spanContext:f,timestampOverwriteMs:performance.timeOrigin+u.startTime})}}}).observe({type:Mt,buffered:!0})}var da=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{f(i.next(l))}catch(c){s(c)}}function u(l){try{f(i.throw(l))}catch(c){s(c)}}function f(l){l.done?o(l.value):r(l.value).then(a,u)}f((i=i.apply(e,t||[])).next())})},ji=new B,st=class extends D{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=M}initialize(){if(!jo()){this.logDebug("performance observer not supported. Disable performance instrumentation.");return}Bo(()=>da(this,void 0,void 0,function*(){let t=this.api.pushEvent,{faroNavigationId:n}=yield Go(t);n!=null&&Ho(n,t,ji)}))}};var qo="resource-entry",Mn="http-request-start",Pn="http-request-end",Ko="dom-mutation",Yo="faroUserActionName",Bi="data-faro-user-action-name";function $o(){let e=new B;return new MutationObserver((n,i)=>{e.notify({type:Ko})}).observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),e}var Vi="fetch",Un="xhr";function Wo(){let e=new B;function t(i){e.notify({type:Mn,request:i})}function n(i){e.notify({type:Pn,request:i})}return pa({onRequestStart:t,onRequestEnd:n}),fa({onRequestStart:t,onRequestEnd:n}),e}function fa({onRequestStart:e,onRequestEnd:t}){let n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){let i=arguments[1],r=Me(i),o=arguments[0],s=z();this.addEventListener("loadstart",function(){r||e({url:i,method:o,requestId:s,apiType:Un})}),this.addEventListener("load",function(){r||t({url:i,method:o,requestId:s,apiType:Un})}),this.addEventListener("error",function(){r||t({url:i,method:o,requestId:s,apiType:Un})}),this.addEventListener("abort",function(){r||t({url:i,method:o,requestId:s,apiType:Un})}),n.apply(this,arguments)}}function pa({onRequestEnd:e,onRequestStart:t}){let n=window.fetch;window.fetch=function(){var i,r;let o=(i=vr(arguments[0]))!==null&&i!==void 0?i:"",s=Me(o),a=((r=arguments[1])!==null&&r!==void 0?r:{}).method,u=z();return s||t({url:o,method:a,requestId:u,apiType:Vi}),n.apply(this,arguments).then(f=>(s||e({url:o,method:a,requestId:u,apiType:Vi}),f)).catch(f=>{throw s||e({url:o,method:a,requestId:u,apiType:Vi}),f})}}function Xo(){let e=new B;return ji.subscribe(t=>{t.type===Mt&&e.notify({type:qo})}),e}function Jo(e){let t=e.split("data-")[1],n=t?.replace(/-(.)/g,(i,r)=>r.toUpperCase());return n?.replace(/-/g,"")}var Qo=100;function ns(e){let{api:t,config:n}=e,i=Wo(),r=$o(),o=Xo(),s,a=!1;function u(f){var l;let c,d=ba(f);if(d?c=f.name:c=ma(f.target,(l=n.trackUserActionsDataAttributeName)!==null&&l!==void 0?l:Yo),a||c==null)return;a=!0;let p=Y(),m,h=z();Se.notify({type:H,name:c,startTime:p,parentId:h}),s=zi(s,()=>{m=Y(),a=!1,ga(c,h)},Qo);let b=new Map,g=!1,v,O=new B().merge(i,r,o).takeWhile(()=>a).filter(R=>!(g&&!(ts(R)&&b.has(R.request.requestId)))).subscribe(R=>{va(R)&&b.set(R.request.requestId,R.request),ts(R)&&b.delete(R.request.requestId),s=zi(s,()=>{m=Y();let w=Object.assign({api:t,userActionName:c,startTime:p,endTime:m,actionId:h,event:f},d?{attributes:f.attributes}:{}),E=b.size>0;g&&!E&&(clearTimeout(v),g=!1),E?(g=!0,Se.notify({type:Ke,name:c,parentId:h,reason:"pending-requests",haltTime:Y()}),v=zi(void 0,()=>{es(O),Zo(w),a=!1,g=!1},1e3*10)):(es(O),Zo(w),a=!1,g=!1)},Qo)})}return u}function Zo(e){let{api:t,userActionName:n,startTime:i,endTime:r,actionId:o,event:s,attributes:a}=e,u=r-i,f=s.type;Se.notify({type:He,name:n,id:o,startTime:i,endTime:r,duration:u,eventType:f}),t.pushEvent(n,Object.assign({userActionStartTime:i.toString(),userActionEndTime:r.toString(),userActionDuration:u.toString(),userActionEventType:f},X(a)),void 0,{timestampOverwriteMs:i,customPayloadTransformer:l=>(l.action={id:o,name:n},l)})}function ma(e,t){let n=Jo(t),i=e.dataset;for(let r in i)if(r===n)return i[r]}function zi(e,t,n){return e&&clearTimeout(e),e=setTimeout(()=>{t()},n),e}function ga(e,t){Se.notify({type:qe,name:e,parentId:t})}function es(e){e?.unsubscribe(),e=void 0}function va(e){return e.type===Mn}function ts(e){return e.type===Pn}function ba(e){return e.type==="apiEvent"&&typeof e.name=="string"}var Gi,at=class extends D{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-user-action",this.version=M}initialize(){Gi=ns(I),window.addEventListener("pointerdown",Gi),window.addEventListener("keydown",Gi)}};function lt(e={}){let t=[new at,new Je,new ot,new Xe,new Qe];return e.enablePerformanceInstrumentation!==!1&&t.unshift(new st),e.captureConsole!==!1&&t.push(new xe({disabledLevels:e.captureConsoleDisabledLevels})),t}var is="browser";var Hi=()=>{let e=window.k6;return{k6:Object.assign({isK6Browser:!0},e?.testRunId&&{testRunId:e?.testRunId})}};var rs,qi;function Ki({generatePageId:e,initialPageMeta:t}={}){return()=>{let i=location.href;return ie(e)&&rs!==i&&(rs=i,qi=e(location)),{page:Object.assign(Object.assign({url:i},qi?{id:qi}:{}),t)}}}var os=function(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{f(i.next(l))}catch(c){s(c)}}function u(l){try{f(i.throw(l))}catch(c){s(c)}}function f(l){l.done?o(l.value):r(l.value).then(a,u)}f((i=i.apply(e,t||[])).next())})},Ea=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},Sa=30,Ta=5,ya=5e3,xa=6e4,Ia=429,wa=202,ut=class extends Ge{constructor(t){var n,i,r,o;super(),this.options=t,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=M,this.disabledUntil=new Date,this.rateLimitBackoffMs=(n=t.defaultRateLimitBackoffMs)!==null&&n!==void 0?n:ya,this.getNow=(i=t.getNow)!==null&&i!==void 0?i:()=>Date.now(),this.promiseBuffer=Qt({size:(r=t.bufferSize)!==null&&r!==void 0?r:Sa,concurrency:(o=t.concurrency)!==null&&o!==void 0?o:Ta})}send(t){return os(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{let n=JSON.stringify(nn(t)),{url:i,requestOptions:r,apiKey:o}=this.options,s=r??{},{headers:a}=s,u=Ea(s,["headers"]),f,l=this.metas.value.session;return l!=null&&(f=l.id),fetch(i,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},a??{}),o?{"x-api-key":o}:{}),f?{"x-faro-session-id":f}:{}),body:n,keepalive:n.length<=xa},u??{})).then(c=>os(this,void 0,void 0,function*(){return c.status===wa&&c.headers.get("X-Faro-Session-Status")==="invalid"&&this.extendFaroSession(this.config,this.logDebug),c.status===Ia&&(this.disabledUntil=this.getRetryAfterDate(c),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),c.text().catch(G),c})).catch(c=>{this.logError(`Failed sending payload to the receiver
`,JSON.parse(n),c)})})}catch(n){this.logError(n)}})}getIgnoreUrls(){var t;return[this.options.url].concat((t=this.config.ignoreUrls)!==null&&t!==void 0?t:[])}isBatched(){return!0}getRetryAfterDate(t){let n=this.getNow(),i=t.headers.get("Retry-After");if(i){let r=Number(i);if(!isNaN(r))return new Date(r*1e3+n);let o=Date.parse(i);if(!isNaN(o))return new Date(o)}return new Date(n+this.rateLimitBackoffMs)}extendFaroSession(t,n){let i="Session expired",r=t.sessionTracking;if(r?.enabled){let{fetchUserSession:o,storeUserSession:s}=ht(r);$e({fetchUserSession:o,storeUserSession:s})({forceSessionExtend:!0}),n(`${i} created new session.`)}else n(`${i}.`)}};var _a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function Ln(e){var t;let n=[],i=ze(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&i.error('if "transports" is defined, "url" and "apiKey" should not be defined'),n.push(...e.transports)):e.url?n.push(new ut({url:e.url,apiKey:e.apiKey})):i.error('either "url" or "transports" must be defined');let{dedupe:r=!0,eventDomain:o=is,globalObjectKey:s=ln,instrumentations:a=lt(),internalLoggerLevel:u=Ve,isolate:f=!1,logArgsSerializer:l=pe,metas:c=Aa(e),paused:d=!1,preventGlobalExposure:p=!1,unpatchedConsole:m=fe,trackUserActionsPreview:h=!1,trackUserActionsDataAttributeName:b=Bi}=e,g=_a(e,["dedupe","eventDomain","globalObjectKey","instrumentations","internalLoggerLevel","isolate","logArgsSerializer","metas","paused","preventGlobalExposure","unpatchedConsole","trackUserActionsPreview","trackUserActionsDataAttributeName"]);return Object.assign(Object.assign({},g),{batching:Object.assign(Object.assign({},un),e.batching),dedupe:r,globalObjectKey:s,instrumentations:Oa(a,e),internalLoggerLevel:u,isolate:f,logArgsSerializer:l,metas:c,parseStacktrace:St,paused:d,preventGlobalExposure:p,transports:n,unpatchedConsole:m,eventDomain:o,ignoreUrls:((t=e.ignoreUrls)!==null&&t!==void 0?t:[]).concat([/\/collect(?:\/[\w]*)?$/]),sessionTracking:Object.assign(Object.assign(Object.assign({},vn),e.sessionTracking),Na({trackGeolocation:e.trackGeolocation,sessionTracking:e.sessionTracking})),trackUserActionsPreview:h,trackUserActionsDataAttributeName:b})}function Oa(e,{trackUserActionsPreview:t}){return e.filter(n=>!(n.name==="@grafana/faro-web-sdk:instrumentation-user-action"&&!t))}function Aa(e){var t,n;let{page:i,generatePageId:r}=(t=e?.pageTracking)!==null&&t!==void 0?t:{},o=[fn,Ki({generatePageId:r,initialPageMeta:i}),...(n=e.metas)!==null&&n!==void 0?n:[]];return U(window.k6)?[...o,Hi]:o}function Na({trackGeolocation:e,sessionTracking:t}){var n;let i={};return Ht(e)&&(i.geoLocationTrackingEnabled=e),L(i)?{}:{session:Object.assign(Object.assign({},(n=t?.session)!==null&&n!==void 0?n:{}),{overrides:i})}}function Yi(e){let t=Ln(e);if(t)return ci(t)}{let e=Yi({url:`https://${window.location.host}/connect/af1fca71911a9641ebdffddb56889e97`,app:{name:"grafana-website",version:"1e972d4f8e3530dc359e53605490d38b70dc5144",environment:"master"},instrumentations:[...lt()]})}})();
